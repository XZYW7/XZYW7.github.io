<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  <title>
    
    XZYW7&#39;s Blog
  </title>
  <!-- Icon -->
  
    <link rel="shortcut icon" href="/favicon.ico">
    
  
<link rel="stylesheet" href="/css/style.css">

  
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<script src="/js/pace.min.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <main class="content">
    <section class="outer">
  <article id="post-TA/百人计划/图形2.4 传统经验光照模型" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    

    
    <div class="article-meta">
      <a href="/2025/09/10/TA/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/%E5%9B%BE%E5%BD%A22.4%20%E4%BC%A0%E7%BB%9F%E7%BB%8F%E9%AA%8C%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/" class="article-date">
  <time datetime="2025-09-10T13:18:14.022Z" itemprop="datePublished">2025-09-10</time>
</a>
      
    </div>
    

    
    
<div class="tocbot"></div>

    

    <div class="article-entry" itemprop="articleBody">
      
      
      
        <h2 id="图形2-4-传统经验光照模型"><a href="#图形2-4-传统经验光照模型" class="headerlink" title="图形2.4 传统经验光照模型"></a>图形2.4 传统经验光照模型</h2><ul>
<li>经验模型</li>
</ul>
<p>对真实光照的模拟，简化了真实光照的计算，并且有不错的效果</p>
<ul>
<li>基于物理理论的光照模型</li>
</ul>
<p>使用物理的度量和统计方法，效果非常真实，但是计算困难，实现也较困难</p>
<p><img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220727115123646.png" alt="image-20220727120611504"></p>
<h3 id="一、局部光照模型"><a href="#一、局部光照模型" class="headerlink" title="一、局部光照模型"></a><strong>一、局部光照模型</strong></h3><p>只关心直接光照部分</p>
<h4 id="1-1-Lambert余弦定律"><a href="#1-1-Lambert余弦定律" class="headerlink" title="1.1 Lambert余弦定律"></a><strong>1.1 Lambert余弦定律</strong></h4><p>光源每秒发出的能量为辐射通量$P$</p>
<p>单位面积接受的光照为辐射通量密度（辐照度）$P&#x2F;A$</p>
<p>当光源垂直照射的单位面积的辐照度为$E_1 &#x3D; P&#x2F;A_1$</p>
<p>当光束以某个角度照射到面积更大的平面上的辐射度为$E_2&#x3D;P&#x2F;A_2&#x3D;P\cos\theta&#x2F;A_1&#x3D;E_1\cos\theta$</p>
<p><img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220727120541155.png" alt="image-20220727120541155"></p>
<h4 id="1-2-漫反射"><a href="#1-2-漫反射" class="headerlink" title="1.2 漫反射"></a><strong>1.2 漫反射</strong></h4><p>光线照射到模型表面时被均匀反射到各个方向<br>$$<br>C_{diffuse} &#x3D; C_{light}<em>albedo</em>ndotL<br>$$</p>
<h4 id="1-3-镜面反射-高光反射"><a href="#1-3-镜面反射-高光反射" class="headerlink" title="1.3 镜面反射(高光反射)"></a><strong>1.3 镜面反射(高光反射)</strong></h4><p>光线到达物体表面发生镜面反射，观察视线在反射光线的附近便能够观察到镜面反射。</p>
<p>镜面反射的反射率是根据菲涅尔效应决定的。</p>
<p>通常使用对应的反射贴图描述物体表面的反射率，并使用光泽度（粗糙度，反光度）描述高光范围的大小<br>$$<br>C_{specular}&#x3D;C_{lgiht}*m_{specular}<em>dot(v,r)^m<br>\r&#x3D;1-2ndotL</em>n<br>$$</p>
<p><img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220727120611504.png" alt="image-20220727120611504"></p>
<h4 id="1-4-环境光"><a href="#1-4-环境光" class="headerlink" title="1.4 环境光"></a><strong>1.4 环境光</strong></h4><p>在局部光照模型中，没有考虑间接光照的影响，为了处理间接光照，引入Ambient环境光<br>$$<br>C_{ambient}&#x3D;Albedo*Ambient<br>$$<br>通常使用漫反射的反照率来指示环境光照的反射光量。（只计算了环境光照的漫反射）</p>
<h4 id="1-5-自发光"><a href="#1-5-自发光" class="headerlink" title="1.5 自发光"></a><strong>1.5 自发光</strong></h4><p>通常作为单独的一项加入光照模型，一般使用一张发光贴图描述物体自发光</p>
<h3 id="二、经典光照模型"><a href="#二、经典光照模型" class="headerlink" title="二、经典光照模型"></a>二、经典光照模型</h3><h4 id="2-1-Lambert光照模型"><a href="#2-1-Lambert光照模型" class="headerlink" title="2.1 Lambert光照模型"></a><strong>2.1 Lambert光照模型</strong></h4><p>理想漫反射<br>$$<br>L_o &#x3D; C_{diffuse}&#x3D;  C_{light}<em>albedo</em>ndotL<br>$$</p>
<h4 id="2-2-Phong光照模型"><a href="#2-2-Phong光照模型" class="headerlink" title="2.2  Phong光照模型"></a><strong>2.2  Phong光照模型</strong></h4><p>ambient环境光+lambert漫反射+高光<br>$$<br>L_o&#x3D;C_{ambient}+C_{diffuse}+C_{specular}\&#x3D;albedo<em>Ambient + C_{light}</em>(albedo*ndotL+m_{specular}*dot(v,r)^m )<br>$$</p>
<h4 id="2-3-Blinn-Phong光照模型"><a href="#2-3-Blinn-Phong光照模型" class="headerlink" title="2.3 Blinn-Phong光照模型"></a><strong>2.3 Blinn-Phong光照模型</strong></h4><p>在phong光照模型的基础上，使用ndotH代替vdotR<br>$$<br>h&#x3D;normalize(l+r)\<br>L_o&#x3D;C_{ambient}+C_{diffuse}+C_{specular}\&#x3D;albedo<em>Ambient + C_{light}</em>(albedo*ndotL+m_{specular}*dot(n,h)^m )<br>$$</p>
<h3 id="三、着色方法"><a href="#三、着色方法" class="headerlink" title="三、着色方法"></a><strong>三、着色方法</strong></h3><p>着色方法，或者说着色模型，跟光照模型没有任何关系</p>
<h4 id="3-1-Flat着色方法"><a href="#3-1-Flat着色方法" class="headerlink" title="3.1 Flat着色方法"></a><strong>3.1 Flat着色方法</strong></h4><p>面着色，顾名思义以每一个面作为一个着色单位。模型数据大多以很多个三角面进行存储，因此也就记录了每个面的法线向量，利用每个面的法线向量进行一次Blinn-Phong反射光照模型的计算，将该颜色赋予整个面，效果如下：</p>
<p><img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/Flat%20Shading.png" alt="Flat Shading"></p>
<p>改进方法：改进方法就是对三角形面的每个顶点进行着色，再对三角形面内的颜色插值，即Gouraud Shading。</p>
<h4 id="3-2-Gouraud着色方法-几乎不用"><a href="#3-2-Gouraud着色方法-几乎不用" class="headerlink" title="3.2 Gouraud着色方法(几乎不用  )"></a><strong>3.2 Gouraud着色方法(几乎不用  )</strong></h4><p>顶点着色，片元着色通过顶点颜色插值</p>
<h4 id="3-3-Phong着色方法"><a href="#3-3-Phong着色方法" class="headerlink" title="3.3 Phong着色方法"></a><strong>3.3 Phong着色方法</strong></h4><p>求出三角形顶点法向，法向插值得到三角形内部每个片元的法向，精确计算着色。</p>
<h3 id="作业"><a href="#作业" class="headerlink" title="作业"></a><strong>作业</strong></h3><h4 id="1-学习先行版-基础渲染光照介绍（一），并说出能量守恒的理念在基础光照模型中的作用。"><a href="#1-学习先行版-基础渲染光照介绍（一），并说出能量守恒的理念在基础光照模型中的作用。" class="headerlink" title="1.学习先行版 基础渲染光照介绍（一），并说出能量守恒的理念在基础光照模型中的作用。"></a>1.学习先行版 基础渲染光照介绍（一），并说出能量守恒的理念在基础光照模型中的作用。</h4><p>在光照模型当中，我们考虑不同的光源类型：环境光照（间接光照）与直接光照，将它们分开看待。实际上它们都是全局光照的一部分，我愿称之为“全局能量守恒 ”。</p>
<p>而对于某种光源，也有对于其本身的能量守恒，我愿称之为“局部能量守恒”。</p>
<p>那么局部能量守恒在光照模型中的表现其实就是<br>$$<br>入射光能量&#x3D;反射光能量 + 表面吸收能量<br>$$</p>
<h4 id="2-基于能量守恒的理念，自己写一套完整的光照模型，需要包含环境光照。"><a href="#2-基于能量守恒的理念，自己写一套完整的光照模型，需要包含环境光照。" class="headerlink" title="2.基于能量守恒的理念，自己写一套完整的光照模型，需要包含环境光照。"></a>2.基于能量守恒的理念，自己写一套完整的光照模型，需要包含环境光照。</h4><p>对于这个作业我的理解是，使用能量守恒的思想去改进传统光照模型 ，而不是直接实现一个cook-torrance模型。</p>
<h5 id="环境光照"><a href="#环境光照" class="headerlink" title="环境光照"></a><strong>环境光照</strong></h5><p>那么首先来做一下环境光照，不妨来试一下cubeMap做的环境光。</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">texCUBElod(_CubeMap, float4(normal,<span class="number">0.0</span>));</span><br></pre></td></tr></table></figure>

<p> 严格上的IBL，也是要分成漫反射和镜面反射两部分</p>
<p>但是为了简化，就只取漫反射好了，</p>
<p>因为是第一次使用这个功能，在cubemap这里卡了一会儿。</p>
<img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220729233520909.png" alt="image-20220729233520909" style="zoom:50%;" />

<p>这里对于卷积方式很自然地选择漫反射，并且按理来说，漫反射也不需要mip，于是我就关掉了生成Mip贴图选项，但是这样得到的贴图是错误的。只能把这个选项开启才是正常的。下面同样是第一级的mipmap，可以观察到漫反射和镜面反射的卷积结果还是有所区别的。</p>
<center>
    <figure>
        <img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220729233752792.png" alt="image-20220729233752792" style="width:40%;display:inline" />
        <img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220729233806108.png" alt="image-20220729233806108" style="width:40%;display:inline" />
    </figure>
</center>







<p>但是漫反射的卷积为什么要做mipmap呢？（不做的话结果是错的，不管什么卷积类型，除非是None）</p>
<img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220729234005976.png" alt="image-20220729234005976" style="zoom:50%;" />

<p>以及这个mipmap的生成方式是什么呢？</p>
<p>查了下文档</p>
<p><img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220729235546954.png" alt="image-20220729235546954"></p>
<p>也就是说，Convolution的结果是 储存在mipmap里的，所以不开mipmap就会出错。</p>
<p>但是依然没有解决的问题是，&#x3D;&#x3D;对于diffuse来说，mipmap是怎么生成的？&#x3D;&#x3D;</p>
<p>这个问题，只能暂时先放一放了，当前的猜想是，这个diffuse并非理想漫反射，而是按照采样的区域去控制mipmap，0层级当然就只有法线方向，最高层级就是理想漫反射。</p>
<p>对于作业来说，就取一个层级的漫反射卷积环境光照好了</p>
<p>但是值得注意的是，在漫反射部分有一个小细节，无论是环境光还是直接光照。<br>$$<br>L_o(v) &#x3D; f_d\int_{l\in\Omega}L_i(l)\cos\theta dl<br>\ &#x3D; f_dL_i\int_{i\in\Omega}\cos\theta dl<br>\ &#x3D; \pi f_dL_i ,\pi f_d\in[0,1]<br>\f_d &#x3D; \frac{albedo}{\pi},albedo \in[0,1]<br>$$<br>这需要区别开albedo和漫反射的brdf，有这个pi的区别，因此我们才能直接用albedo*L_i</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">float4 indirect_irradiance = texCUBElod(_CubeMap, float4(normal,<span class="number">1.0</span>));</span><br><span class="line">float3 indirect_diffuse = indirect_irradiance * albedo;</span><br></pre></td></tr></table></figure>

<h5 id="直接光照"><a href="#直接光照" class="headerlink" title="直接光照"></a><strong>直接光照</strong></h5><p>这部分就要考虑blinn-phong模型的改进了。</p>
<p>我们还是直接看渲染方程<br>$$<br>\int_{\Omega^+}f_rL_i\cos\theta d\theta\<br>&#x3D;\int_{\Omega^+}(f_d+f_s)L_i\cos\theta d\theta\<br>&#x3D;\int_{\Omega^+}f_dL_i\cos\theta d\theta+\int_{\Omega^+}f_sL_i\cos\theta d\theta<br>$$<br>这样将brdf拆开了两部分。</p>
<p>在这个过程中，看起来好像没有什么问题，但是这需要关系到如何定义这个f_d，f_s。问题的本质还是漫反射光和镜面反射光的关系，更深入的数学推导也许应该回归到BRDF的函数本质，或者说散射函数，暂时就不去研究了。总之，在这里的表达中，就是反射的光一部分进行了漫反射，一部分进行了高光反射。但是它们的总能量，等于反射光的能量。</p>
<p>在learnopengl中的表达，就是</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> kS = calculateSpecularComponent(...); <span class="comment">// 反射/镜面 部分</span></span><br><span class="line"><span class="type">float</span> kD = <span class="number">1.0</span> - ks;                        <span class="comment">// 折射/漫反射 部分</span></span><br></pre></td></tr></table></figure>

<p>我们可以理解为把这两个比例分配给了光的能量，也可以直接认为 这是属于BRDF的一部分。</p>
<p>就不说cook-torrance了，总之我们先人为提供一个因子。glossy好像是个不错的选择。</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">float3 kd = (<span class="number">255.0</span> - _Gloss)/<span class="number">255.0</span>;</span><br><span class="line">fixed3 color = indirect_diffuse * _EnvScale + diffuse * kd  + specular * (<span class="number">1</span>-kd);</span><br></pre></td></tr></table></figure>

<p>漫反射的部分依然和上面一样</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fixed3 diffuse = _LightColor0.rgb * albedo * <span class="built_in">max</span>((<span class="built_in">dot</span>(normal, LightDir)),<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>而对于高光部分。要说它能量守不守恒，也不太好衡量，毕竟能量小于入射能量就行了。无论小多少，它都是一种材质。所以就放在这里不管了。<br>$$<br>C_{light}*m_{specular}*ndotH^m<br>$$</p>
<center>
<figure>
    <img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220730013111824.png" alt="image-20220730013111824" style="width:28.9%;display:inline" />
    <img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220730013248302.png" alt="image-20220730013248302" style="width:30%;display:inline" />
    </figure>
</center>







<p>但是这个模型的缺陷在于可以调整的参数太少了，不能表达足够多的材质，最直接的改进部分是对于kd的选择，</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> kd = (<span class="number">255.0</span> - _Gloss)/<span class="number">255.0</span>;</span><br><span class="line">kd = <span class="built_in">pow</span>(kd,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>我们对kd做一些映射，就能够使得在同样的光滑度下，高光的能量占比更大（降低增加gloss减少高光范围的趋势），或者其实就干脆换一个参数来控制kd</p>
<center>
    <figure>
    	<img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220730014709778.png" alt="image-20220730014709778" style="width:40%;display:inline" />
        <img src="https://raw.githubusercontent.com/XZYW7/PicGo/main/img/image-20220730014811460.png" alt="image-20220730014811460" style="width:38.2%;display:inline" />
    </figure>
</center>





<h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h5><p>调参差不多就玩到这里了，整个光照模型就大概如此。</p>
<p>至于能量守恒的部分，首先是环境光照和直接光照的区分。</p>
<p>剩下的最主要的就是漫反射和镜面反射的能量分配，最后就是考虑光照计算的正确性。</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag(v2f i) : SV_Target &#123;</span><br><span class="line"></span><br><span class="line">	fixed3 normal = <span class="built_in">normalize</span>(i.normal);</span><br><span class="line">    fixed3 LightDir = <span class="built_in">normalize</span>(UnityWorldSpaceLightDir(i.worldPos));</span><br><span class="line">    fixed3 ViewDir = <span class="built_in">normalize</span>(UnityWorldSpaceViewDir(i.worldPos));</span><br><span class="line">    float3 h = <span class="built_in">normalize</span>(LightDir + ViewDir);</span><br><span class="line">    <span class="type">float</span> ndotL = <span class="built_in">dot</span>(normal, LightDir);</span><br><span class="line">    <span class="type">float</span> ndotH = <span class="built_in">dot</span>(normal,h);</span><br><span class="line">    fixed3 albedo = tex2D(_Albedo, i.uv).rgb * _Diffuse.rgb;</span><br><span class="line">    <span class="comment">//ambient</span></span><br><span class="line">    <span class="comment">//fixed3 ambient = UNITY_LIGHTMODEL_AMBIENT.xyz * albedo;</span></span><br><span class="line"></span><br><span class="line">    float4 indirect_irradiance = texCUBElod(_CubeMap, float4(normal,_CubeMapLod));</span><br><span class="line">    float3 indirect_diffuse = indirect_irradiance * albedo;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//diffuse</span></span><br><span class="line">    fixed3 diffuse = _LightColor0.rgb * albedo * <span class="built_in">max</span>(ndotL,<span class="number">0</span>);</span><br><span class="line">                </span><br><span class="line">    <span class="comment">//specular         </span></span><br><span class="line">    fixed3 specular = _LightColor0.rgb * _Specular.rgb * <span class="built_in">pow</span>(<span class="built_in">max</span>(ndotH,<span class="number">0</span>), _Gloss) ;</span><br><span class="line">    </span><br><span class="line">    <span class="type">float</span> kd = (<span class="number">255.0</span> - _Spec)/<span class="number">255.0</span>;<span class="comment">//float kd = (255.0 - _Gloss)/255.0;</span></span><br><span class="line">    fixed3 color = indirect_diffuse * _EnvScale + diffuse * kd  + specular * (<span class="number">1.0</span>-kd);<span class="comment">//ambient + diffuse + specular;</span></span><br><span class="line">    <span class="keyword">return</span> fixed4(color,<span class="number">1.0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a><strong>参考资料</strong></h3><p>[1] <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1B54y1j7zE">https://www.bilibili.com/video/BV1B54y1j7zE</a> 【技术美术百人计划】图形 2.4 传统经验光照模型详解</p>
<p>[2] Unity Shader入门精要</p>
<p>[3]<a target="_blank" rel="noopener" href="https://docs.unity3d.com/cn/2021.3/Manual/class-TextureImporter.html#GenerateMipMaps">https://docs.unity3d.com/cn/2021.3/Manual/class-TextureImporter.html#GenerateMipMaps</a></p>
<p>[4] <a target="_blank" rel="noopener" href="https://learnopengl-cn.github.io/">https://learnopengl-cn.github.io/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/09/10/TA/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/%E5%9B%BE%E5%BD%A22.4%20%E4%BC%A0%E7%BB%9F%E7%BB%8F%E9%AA%8C%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/" data-id="cmfe1kyay0021ykuh0hlheowl" class="article-share-link">
        Share
      </a>
      
    </footer>

  </div>

  
  
<nav class="article-nav">
  
  <a href="/2025/09/10/TA/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/%E5%9B%BE%E5%BD%A22.3%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D/" class="article-nav-link">
    <strong class="article-nav-caption">Newer</strong>
    <div class="article-nav-title">
      
      (no title)
      
    </div>
  </a>
  
  
  <a href="/2025/09/10/TA/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/%E5%9B%BE%E5%BD%A21.1%E6%B8%B2%E6%9F%93%E6%B5%81%E6%B0%B4%E7%BA%BF/" class="article-nav-link">
    <strong class="article-nav-caption">Older</strong>
    <div class="article-nav-title"></div>
  </a>
  
</nav>

  

  
  
  
  

</article>
</section>
    <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>XZYW7&#39;s Blog &copy; 2025</li>
      
        <li>
          
            <a href="https://beian.miit.gov.cn/" target="_blank"></a>
            
        </li>
      
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>theme  <a target="_blank" rel="noopener" href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
    <p><ul class="list-inline">
  
  <li><i class="fe fe-smile-alt tooltip" data-tooltip="UV"></i> <span id="busuanzi_value_site_uv"></span></li>
  
  <li><i class="fe fe-bookmark tooltip" data-tooltip="PV"></i> <span id="busuanzi_value_page_pv"></span></li>
  
</ul></p>
  </div>
</footer>
  </main>
  <aside class="sidebar">
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/hexo.svg" alt="XZYW7&#39;s Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">Home</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">Archives</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/gallery">Gallery</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">About</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Search">
        <i class="fe fe-search"></i>
        Search
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="fe fe-feed"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>



<script src="/fancybox/jquery.fancybox.min.js"></script>





<script src="/js/tocbot.min.js"></script>


<script>
  // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto',
  });
</script>



<script src="/js/ocean.js"></script>

</body>

</html>